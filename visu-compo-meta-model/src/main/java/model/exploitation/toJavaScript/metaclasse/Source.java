package model.exploitation.toJavaScript.metaclasse;

import java.util.ArrayList;
import java.util.List;

/**
 * Created by Ivan Logre on 01/07/2014.
 */
public class Source<T1 extends Comparable<T1>,T2>{

    private String valueName;
    private List<Pair<T1, T2>> pairs;
    private Pivot<T1, T2> pivot;

    public Source(String valueName) {
        this.valueName = valueName;
        this.pairs = new ArrayList<>();
    }

    public String getValueName() {
        return valueName;
    }

    public void setValueName(String valueName) {
        this.valueName = valueName;
    }

    public List<Pair<T1, T2>> getPairs() {
        return pairs;
    }

    public void put(T1 i, T2 j){
        Pair p =new Pair<T1,T2>(i, j);
        this.pairs.add(p);
        p.setSource(this);

    }

    public boolean isEmpty() {
        return pairs.isEmpty();
    }

    public void remove(Pair pair) {
        pairs.remove(pair);
        pair.setSource(null);

        if(this.pairs.isEmpty())
            this.getPivot().remove(this);
    }

    public void setPivot(Pivot<T1, T2> pivot) {
        this.pivot = pivot;
    }

    public Pivot<T1, T2> getPivot() {
        return pivot;
    }
}
